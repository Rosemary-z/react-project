## 登录成功后续逻辑

1. 重新跳转到 跟路由 '/'
  + login.jsx 中向loginActSync传递this.props
  + action/index.js/loginActSync方法中实现路由跳转
  ```
  this.props.history.push()
  ```
  + admin.jsx中提取isLogin数据，作为判断依据

2. 记录用户登录状态
  + reducer/user.js 
    - 在LOGIN_SUCCESS状态下，向本地存储写入用户信息
    - 在user.js模块每次调用的时候，尝试从本地提取用户信息


## 使用状态机完成退出登录

+ reducer/user.js 中，跳转LOGIN_FAIL的逻辑，清除本地存储

+ components/header  中，调整退出的登录逻辑
  - 调用状态机方法，完成退出逻辑

## 使用redux完成登录功能的目的

+ 不使用redux，用localStorage完全能实现登录功能

+ redux实现登录后，用户信息跨组件实时同步，更加方便

+ 为了以此功能为契机，训练redux真实使用流程 

## 登录状态的存储形式

+ 记住密码，持久存储  localStorage
+ 不记住密码，临时存储 sessionStorage

## 用户角色控制

1. 角色划分
> roles
  + root   访问项目所有功能
  + admin  不允许访问用户管理面板、角色管理面板
  + worker 只能访问首页、分类管理

2. 分配角色
  + 正常的操作，是由root超级管理员，在管理面板中录入
    - admin
    - worker
  + 可以在数据库中直接新增用以测试的不同角色账号

3. 不同的权限控制手段
  + 动态控制菜单栏的显示 【用户看不到权限之外的菜单】
  + 动态控制Route的渲染  【用户无法访问权限之外的路由】
  + 后端根据不同的角色，动态下发路由配置数据包 【后端开发完成数据下发】
  + 按钮级别的权限控制 【根据实际情况决定是否添加】

## 实现权限管理的流程

+ 调整config/menuConfig.js数据包

+ 在LeanCloud数据库，设置几个拥有不同权限的用户角色

+ 根据用户角色，动态渲染Menu菜单

+ 根据用户角色，动态渲染Route组件



